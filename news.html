<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Blorb's Website - News</title>
        <link rel="icon" type="image/x-icon" href="https://confusedblorb.org/icon.png">
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <img src="https://confusedblorb.org/blorb.webp" class="banner">
        
        <div class="topnav">
            <a class="active" href="index.html">Home</a>
            <a class="inactive" href="#news">News</a>
            <a class="inactive" href="#about">About</a>
        </div>
        
        <div class="text_area">
            <h2>News</h2>
            <div class="news_area" id="news">

            </div>
        </div>

        <div class="text_area">
            <h2 id="about">About</h2>
            <p>Â© 2023 - 2024 confusedcatgirl</p>
            <p>Images used in the News Section have their links in "confusedblorb.org/news.json". These belong to their respective owners.</p>
            <a style="padding-left: 32px">Banner by </a><a href="https://www.mooshieblob.com/">mooshieblob 2024</a><br><br>
            <a style="padding-left: 32px">Image by </a><a href="https://danbooru.donmai.us/posts/1029426">Yuuki Tatsuya 2011</a>
            <p></p>
        </div>
    </body>

    <script>
        var getJSON = function(url, callback) {
            var xhr = new XMLHttpRequest();
            xhr.open('GET', url, true);
            xhr.responseType = 'json';
            xhr.onload = function() {
                var status = xhr.status;
                if (status === 200) {
                    callback(null, xhr.response);
                } else {
                    callback(status, xhr.response);
                }
            };
            xhr.send();
        };

        getJSON('https://confusedblorb.org/news.json', function(err, data) {
            data.articles.forEach(article => {
                const news_container = document.createElement("div");
                const title_container = document.createElement("h3");
                const date_container = document.createElement("p");
                const image_container = document.createElement("img");

                title_container.appendChild(document.createTextNode(article.title));
                date_container.appendChild(document.createTextNode(article.date));
                image_container.src = article.image;

                news_container.className = "news_div";
                image_container.className = "news_image";

                news_container.appendChild(title_container);
                news_container.appendChild(date_container);
                news_container.appendChild(image_container);

                const element = document.getElementById("news");
                element.appendChild(news_container);
            });
        });
    </script>
</html>